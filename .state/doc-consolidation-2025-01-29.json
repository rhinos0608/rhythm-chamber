{
  "consolidation_date": "2025-01-29",
  "objective": "Consolidate 15+ scattered documentation files into â‰¤15 cohesive docs",
  "source_analysis": {
    "total_md_files": 82,
    "core_docs_count": 15,
    "total_lines": 25000+,
    "major_files": [
      {"file": "ARCHITECTURE.md", "lines": 2192, "category": "core"},
      {"file": "API_REFERENCE.md", "lines": 1787, "category": "core"},
      {"file": "docs/REFACTORING-SUMMARY.md", "lines": 1345, "category": "dev"},
      {"file": "TESTING.md", "lines": 1154, "category": "dev"},
      {"file": "SECURITY.md", "lines": 1048, "category": "core"},
      {"file": "TROUBLESHOOTING.md", "lines": 529, "category": "dev"},
      {"file": "docs/03-technical-architecture.md", "lines": 2695, "category": "product"},
      {"file": "docs/service-catalog.md", "lines": 918, "category": "reference"},
      {"file": "docs/controller-catalog.md", "lines": 833, "category": "reference"},
      {"file": "docs/utility-reference.md", "lines": 841, "category": "reference"},
      {"file": "docs/DEPLOYMENT.md", "lines": 368, "category": "dev"},
      {"file": "docs/API_SETUP.md", "lines": 332, "category": "dev"},
      {"file": "CHANGELOG.md", "lines": 185, "category": "dev"},
      {"file": "BUILD.md", "lines": 146, "category": "dev"},
      {"file": "CONTRIBUTING.md", "lines": 284, "category": "dev"}
    ],
    "adr_files": [
      {"file": "docs/adr/001-characterization-testing.md", "lines": 83, "status": "keep"},
      {"file": "docs/adr/002-indexeddb-module-structure.md", "lines": 207, "status": "keep"},
      {"file": "docs/adr/003-worker-mock-architecture.md", "lines": 216, "status": "keep"},
      {"file": "docs/adr/004-facade-pattern-refactoring.md", "lines": 327, "status": "keep"},
      {"file": "docs/adr/005-sub-agent-parallel-execution.md", "lines": 353, "status": "keep"}
    ]
  },
  "target_structure": {
    "core_documentation": [
      {
        "name": "README.md",
        "purpose": "Project overview, quick start, features",
        "sources": ["README.md", "docs/01-product-vision.md", "docs/02-user-experience.md"],
        "actions": ["consolidate", "streamline"]
      },
      {
        "name": "ARCHITECTURE.md",
        "purpose": "System design, modules, data flow",
        "sources": [
          "ARCHITECTURE.md",
          "docs/03-technical-architecture.md",
          "docs/04-intelligence-engine.md",
          "docs/service-catalog.md",
          "docs/controller-catalog.md"
        ],
        "actions": ["merge", "remove_duplicates", "reorganize"]
      },
      {
        "name": "API.md",
        "purpose": "Complete API reference",
        "sources": ["API_REFERENCE.md", "docs/utility-reference.md", "docs/API_SETUP.md"],
        "actions": ["merge", "restructure"],
        "rename_from": "API_REFERENCE.md"
      },
      {
        "name": "TESTING.md",
        "purpose": "Testing guide (streamlined)",
        "sources": ["TESTING.md"],
        "actions": ["streamline", "remove_redundancy"]
      },
      {
        "name": "SECURITY.md",
        "purpose": "Security model, audit results",
        "sources": [
          "SECURITY.md",
          "docs/security-milestone-v0.9.md",
          "docs/security/audits/2026-01-28-dom-xss-analysis.md",
          "docs/security/ReDoS-Bypass-Vulnerability-Fix.md"
        ],
        "actions": ["merge", "consolidate_audit_reports"]
      }
    ],
    "development_guides": [
      {
        "name": "CONTRIBUTING.md",
        "purpose": "Development setup, patterns, guidelines",
        "sources": ["CONTRIBUTING.md"],
        "actions": ["keep", "update_links"]
      },
      {
        "name": "DEPLOYMENT.md",
        "purpose": "Build, deploy, monitor",
        "sources": ["docs/DEPLOYMENT.md", "BUILD.md"],
        "actions": ["merge", "move_to_root"],
        "move_to_root": true
      },
      {
        "name": "REFACTORING.md",
        "purpose": "Refactoring history, patterns, migration guide",
        "sources": [
          "docs/REFACTORING-SUMMARY.md",
          "docs/REFACTORING-SUMMARY-INDEXEDDB.md",
          "docs/retry-utils-consolidation-summary.md"
        ],
        "actions": ["merge", "create_new"],
        "create_new": true
      },
      {
        "name": "TROUBLESHOOTING.md",
        "purpose": "Common issues and solutions",
        "sources": ["TROUBLESHOOTING.md"],
        "actions": ["keep", "update"]
      },
      {
        "name": "CHANGELOG.md",
        "purpose": "Version history, breaking changes",
        "sources": ["CHANGELOG.md"],
        "actions": ["keep"]
      }
    ],
    "decision_records": [
      {
        "name": "docs/ADR/README.md",
        "purpose": "Index of all ADRs",
        "actions": ["create_new"],
        "create_new": true
      },
      {
        "name": "docs/ADR/001-testing-methodology.md",
        "purpose": "Consolidated testing methodology",
        "sources": [
          "docs/adr/001-characterization-testing.md",
          "docs/adr/003-worker-mock-architecture.md"
        ],
        "actions": ["merge", "rename"],
        "rename_from": "docs/adr/001-characterization-testing.md"
      },
      {
        "name": "docs/ADR/002-architecture-decisions.md",
        "purpose": "Key architectural decisions",
        "sources": [
          "docs/adr/002-indexeddb-module-structure.md",
          "docs/adr/004-facade-pattern-refactoring.md",
          "docs/adr/005-sub-agent-parallel-execution.md"
        ],
        "actions": ["merge", "create_new"],
        "create_new": true
      }
    ]
  },
  "files_to_delete": [
    "docs/01-product-vision.md",
    "docs/02-user-experience.md",
    "docs/03-technical-architecture.md",
    "docs/04-intelligence-engine.md",
    "docs/05-roadmap-and-risks.md",
    "docs/06-advanced-features.md",
    "docs/service-catalog.md",
    "docs/controller-catalog.md",
    "docs/utility-reference.md",
    "docs/API_SETUP.md",
    "docs/DEPLOYMENT.md",
    "BUILD.md",
    "docs/REFACTORING-SUMMARY-INDEXEDDB.md",
    "docs/retry-utils-consolidation-summary.md",
    "docs/security-milestone-v0.9.md",
    "docs/security/audits/2026-01-28-dom-xss-analysis.md",
    "docs/security/ReDoS-Bypass-Vulnerability-Fix.md"
  ],
  "files_to_archive": [
    "docs/onboarding-guide.md",
    "docs/operation-lock-contract.md",
    "docs/ioc-container-implementation-guide.md",
    "docs/provider-health-monitoring.md",
    "docs/pricing-implementation-summary.md",
    "docs/pricing-two-tier-model.md",
    "docs/premium-features-guide.md",
    "docs/ENCRYPTION-MIGRATION.md",
    "docs/FIX-PROMISE-SUPPRESSION-STRATEGIES.md"
  ],
  "preserve_directories": [
    "docs/adr/",
    "docs/user-journeys/",
    "docs/plans/",
    "docs/verification/",
    ".planning/",
    ".state/"
  ],
  "consolidation_phases": [
    {
      "phase": 1,
      "name": "Analyze and Plan",
      "tasks": [
        "Inventory all documentation files",
        "Categorize by purpose and audience",
        "Identify overlaps and redundancies",
        "Design target structure"
      ]
    },
    {
      "phase": 2,
      "name": "Consolidate Core Documentation",
      "tasks": [
        "Merge and streamline README.md",
        "Consolidate ARCHITECTURE.md",
        "Merge API docs into API.md",
        "Streamline TESTING.md",
        "Consolidate SECURITY.md with audit reports"
      ]
    },
    {
      "phase": 3,
      "name": "Consolidate Development Guides",
      "tasks": [
        "Update CONTRIBUTING.md",
        "Merge BUILD.md into DEPLOYMENT.md",
        "Create REFACTORING.md from summaries",
        "Update TROUBLESHOOTING.md",
        "Verify CHANGELOG.md"
      ]
    },
    {
      "phase": 4,
      "name": "Consolidate ADRs",
      "tasks": [
        "Create docs/ADR/README.md index",
        "Merge testing-related ADRs",
        "Merge architecture-related ADRs",
        "Archive redundant ADRs"
      ]
    },
    {
      "phase": 5,
      "name": "Cleanup and Verify",
      "tasks": [
        "Delete redundant files",
        "Archive internal docs",
        "Update all cross-references",
        "Verify all links work",
        "Create navigation structure"
      ]
    }
  ],
  "success_metrics": {
    "total_files_target": 15,
    "core_docs": 5,
    "dev_guides": 5,
    "adrs": 3,
    "redundancy_removed": "60%",
    "information_preserved": "100%"
  }
}
